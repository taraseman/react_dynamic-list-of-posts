(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a(17)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(5),s=a.n(o),r=a(2),l=a.n(r),m=a(3),u=a(1),i=(a(12),a(13),"https://mate-api.herokuapp.com"),p=function(e){return fetch("".concat(i,"/comments?postId=").concat(e)).then((function(e){return e.json()})).then((function(e){return e.data}))},f=(a(14),function(e){var t=e.posts,a=e.setComments,o=e.setchoosenPost,s=Object(n.useState)(""),r=Object(u.a)(s,2),f=r[0],d=r[1];return c.a.createElement("div",{className:"PostsList"},c.a.createElement("h2",null,"Posts:"),c.a.createElement("ul",{className:"PostsList__list"},t.map((function(e){return c.a.createElement("li",{className:"PostsList__item",key:e.id},c.a.createElement("div",null,c.a.createElement("b",null,"[User #".concat(e.userId,"]: ")),e.title),f!==e.id?c.a.createElement("button",{type:"button",className:"PostsList__button button",onClick:Object(m.a)(l.a.mark((function t(){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e.id);case 2:return n=t.sent,t.next=5,s=e.id,fetch("".concat(i,"/posts/").concat(s)).then((function(e){return e.json()})).then((function(e){return e.data}));case 5:c=t.sent,n=n.filter((function(t){return t.postId===e.id})),a(n),o(c),d(e.id);case 10:case"end":return t.stop()}var s}),t)})))},"Open"):c.a.createElement("button",{type:"button",className:"PostsList__button button",onClick:function(){o(null),d("")}},"Close"))}))))}),d=(a(15),function(e){var t=e.postId,a=e.commentsUpdate,o=Object(n.useState)(""),s=Object(u.a)(o,2),r=s[0],f=s[1],d=Object(n.useState)(""),E=Object(u.a)(d,2),b=E[0],h=E[1],v=Object(n.useState)(""),_=Object(u.a)(v,2),N=_[0],j=_[1],O=function(){var e,a={postId:t,name:r,email:b,body:N};f(""),h(""),j(""),e=a,fetch("".concat(i,"/comments"),{method:"POST",headers:{"Context-type":"application/json;charset=UTF-8"},body:JSON.stringify(e)})},y=function(){var e=Object(m.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t);case 2:n=e.sent,a(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("form",{className:"NewCommentForm",onSubmit:function(e){e.preventDefault(),O(),y()}},c.a.createElement("div",{className:"form-field"},c.a.createElement("input",{required:!0,type:"text",name:"name",placeholder:"Your name",className:"NewCommentForm__input",value:r,onChange:function(e){f(e.target.value)}})),c.a.createElement("div",{className:"form-field"},c.a.createElement("input",{required:!0,type:"text",name:"email",placeholder:"Your email",className:"NewCommentForm__input",value:b,onChange:function(e){h(e.target.value)}})),c.a.createElement("div",{className:"form-field"},c.a.createElement("textarea",{required:!0,name:"body",placeholder:"Type comment here",className:"NewCommentForm__input",value:N,onChange:function(e){j(e.target.value)}})),c.a.createElement("button",{type:"submit",className:"NewCommentForm__submit-button button"},"Add a comment"))});a(16);function E(e){var t=e.post,a=e.comments,o=e.commentsUpdate,s=Object(n.useState)(!1),r=Object(u.a)(s,2),l=r[0],m=r[1];return c.a.createElement("div",{className:"PostDetails"},c.a.createElement("h2",null,"Post details:"),c.a.createElement("h3",null,t.title),c.a.createElement("section",{className:"PostDetails__post"},c.a.createElement("p",null,t.body),c.a.createElement("p",null,t.createdAt.slice(0,10))),c.a.createElement("section",{className:"PostDetails__comments"},c.a.createElement("button",{type:"button",className:"button",onClick:function(){m((function(e){return!e}))}},"".concat(l?"Hide":"Show"," ").concat(a.length," comments")),l&&c.a.createElement("ul",{className:"PostDetails__list"},a.map((function(e){return c.a.createElement("li",{className:"PostDetails__list-item",key:e.id},c.a.createElement("button",{type:"button",className:"PostDetails__remove-button button",onClick:function(){var t;t=e.id,fetch("".concat(i,"/comments/").concat(t),{method:"DELETE"}),o((function(t){return t.filter((function(t){return t.id!==e.id}))}))}},"X"),c.a.createElement("p",null,e.body,c.a.createElement("br",null),e.createdAt.slice(0,10)))})))),c.a.createElement("section",null,c.a.createElement("div",{className:"PostDetails__form-wrapper"},c.a.createElement(d,{postId:t.id,commentsUpdate:o}))))}E.defaultProps={comments:[]};var b=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],o=t[1],s=Object(n.useState)([]),r=Object(u.a)(s,2),p=r[0],d=r[1],b=Object(n.useState)("0"),h=Object(u.a)(b,2),v=h[0],_=h[1],N=Object(n.useState)([]),j=Object(u.a)(N,2),O=j[0],y=j[1],C=Object(n.useState)(null),P=Object(u.a)(C,2),w=P[0],S=P[1];return Object(n.useEffect)(Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(i,"/posts")).then((function(e){return e.json()})).then((function(e){return e.data}));case 2:t=e.sent,o(t),d(t),o(t);case 6:case"end":return e.stop()}}),e)}))),[]),Object(n.useEffect)((function(){d(0===+v?a:a.filter((function(e){return e.userId===+v})))}),[v]),c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App__header"},c.a.createElement("label",null,"Select a user: \xa0",c.a.createElement("select",{className:"App__user-selector",onChange:function(e){_(e.target.value)}},c.a.createElement("option",{value:"0"},"All users"),c.a.createElement("option",{value:"1"},"Leanne Graham"),c.a.createElement("option",{value:"2"},"Ervin Howell"),c.a.createElement("option",{value:"3"},"Clementine Bauch"),c.a.createElement("option",{value:"4"},"Patricia Lebsack"),c.a.createElement("option",{value:"5"},"Chelsey Dietrich"),c.a.createElement("option",{value:"6"},"Mrs. Dennis Schulist"),c.a.createElement("option",{value:"7"},"Kurtis Weissnat"),c.a.createElement("option",{value:"8"},"Nicholas Runolfsdottir V"),c.a.createElement("option",{value:"9"},"Glenna Reichert"),c.a.createElement("option",{value:"10"},"Leanne Graham")))),c.a.createElement("main",{className:"App__main"},c.a.createElement("div",{className:"App__sidebar"},c.a.createElement(f,{posts:p,setComments:y,setchoosenPost:S})),c.a.createElement("div",{className:"App__content"},w&&c.a.createElement(E,{post:w,comments:O,commentsUpdate:y}))))};s.a.render(c.a.createElement(b,null),document.getElementById("root"))}],[[6,1,2]]]);
//# sourceMappingURL=main.c558dc1c.chunk.js.map